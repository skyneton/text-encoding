function Encoding(){"use strict";const e=[];let t,r,n;const s=(e,t,r="auto")=>{const n=(e,t,r="UTF-8")=>new Promise(n=>{t.onloadend=(()=>{n(t.result)}),t.readAsText(e,r)});return new Promise(async s=>{if("auto"!==r)return void n(e,new FileReader,r).then(e=>{s({result:new Blob([e],{type:"text/plain"}),before:r})});const o={};for(let r=0;r<t.length;r++){const s=await n(e,new FileReader,t[r]),i=(s.match(/⌒/g)||s.match(/�/g)||s.match(/đ/g)||s.match(/ў/g)||s.match(/Ą/g)||s.match(/в/g)||s.match(/Ṁ/g)||s.match(/À/g)||s.match(/¾/g)||s.match(/ˇ/g)||s.match(/Α/g)||s.match(//g)||[]).length;if(0==i){null!=o.url&&URL.revokeObjectURL(o.url),o.min=i,o.before=t[r],o.url=new Blob([s],{type:"text/plain"});break}(null==o.min||o.min>i)&&(o.min=i,o.before=t[r],null!=o.url&&URL.revokeObjectURL(o.url),o.url=new Blob([s],{type:"text/plain"}))}s({result:o.url,before:o.before})})},o=()=>{self.addEventListener("message",e=>{const t=e.data;"import"!==t.type?s(t.file,t.types,t["encoding-type"]).then(e=>{self.postMessage({result:e.result,before:e.before,return:t.return})}):importScripts(t.url)})};var i=t=>{const r=t.data,n=e[r.return];n&&(n.success&&n.success(r.result,r.before),delete e[r.return])};return Worker&&location.protocol.startsWith("http")&&(r=URL.createObjectURL(new Blob([`(${o.toString()})()`],{type:"text/javascript"})),(t=new Worker(r)).addEventListener("message",i),n=URL.createObjectURL(new Blob([`const ${s.name} = ${s.toString()}`],{type:"text/javascript"})),t.postMessage({type:"import",url:n})),new class{start(r,n){if(void 0===r||!(r instanceof File||r instanceof Blob))throw new Error("파일 혹은 Blob를 입력해주세요.");if(void 0===n)throw new Error("옵션값을 입력해주세요.");if(t){const s=e.length;e[s]=n,t.postMessage({file:r,type:"encoding","encoding-type":n.type||"auto",types:this.types(),return:s})}else s(r,this.types(),n.type).then(e=>{n.success&&n.success(e.result,e.before)})}close(){t&&(URL.revokeObjectURL(r),t.terminate()),n&&URL.revokeObjectURL(n)}types(){return["UTF-8","IBM866","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8857-7","ISO-8859-8","ISO-8859-8-I","ISO-8859-10","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","KOI8-R","KOI8-U","macintosh","windows-874","windows-1250","windows-1251","windows-1252","windows-1253","windows-1254","windows-1255","windows-1256","windows-1257","windows-1258","x-mac-cyrillic","Big5","EUC-JP","ISO-2022-JP","Shift_JIS","EUC-KR","UTF-16BE","UTF-16LE","GBK","gb18030"]}}}
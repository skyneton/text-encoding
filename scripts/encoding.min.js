function Encoding(){"use strict";if(void 0===new.target)throw new Error("Constructor must be called with new.");const e=[];let t,r;this.start=((r,s)=>{if(void 0===r||!(r instanceof File||r instanceof Blob))throw new Error("파일 혹은 Blob를 입력해주세요.");if(void 0===s)throw new Error("옵션값을 입력해주세요.");if(t){const n=e.length;e[n]=s,t.postMessage({file:r,type:s.type||"auto",types:this.types(),return:n})}else n(r,this.types(),s.type).then(e=>{s.success&&s.success(e.result,e.before)})});const s=(e,t,r="UTF-8")=>new Promise(s=>{t.onloadend=(()=>{s(t.result)}),t.readAsText(e,r)}),n=(e,t,r="auto")=>new Promise(async n=>{if("auto"!==r)return void s(e,new FileReader,r).then(e=>{n({result:URL.createObjectURL(new Blob([e],{type:"text/plain"})),before:r})});const o={};for(let r=0;r<t.length;r++){const n=await s(e,new FileReader,t[r]),i=(n.match(/�/g)||n.match(/đ/g)||n.match(/ў/g)||n.match(/Ą/g)||n.match(/в/g)||n.match(/Ṁ/g)||n.match(/À/g)||n.match(/¾/g)||n.match(/ˇ/g)||n.match(/Α/g)||[]).length;if(0==i){null!=o.url&&URL.revokeObjectURL(o.url),o.min=i,o.before=t[r],o.url=URL.createObjectURL(new Blob([n],{type:"text/plain"}));break}(null==o.min||o.min>i)&&(o.min=i,o.before=t[r],null!=o.url&&URL.revokeObjectURL(o.url),o.url=URL.createObjectURL(new Blob([n],{type:"text/plain"})))}n({result:o.url,before:o.before})});this.types=(()=>["UTF-8","IBM866","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8857-7","ISO-8859-8","ISO-8859-8-I","ISO-8859-10","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","KOI8-R","KOI8-U","macintosh","windows-874","windows-1250","windows-1251","windows-1252","windows-1253","windows-1254","windows-1255","windows-1256","windows-1257","windows-1258","x-mac-cyrillic","GBK","gb18030","Big5","EUC-JP","ISO-2022-JP","Shift_JIS","EUC-KR","UTF-16BE","UTF-16LE"]);const o=()=>{self.addEventListener("message",e=>{const t=e.data;n(t.file,t.types,t.type).then(e=>{self.postMessage({result:e.result,before:e.before,return:t.return})})})},i=t=>{const r=t.data,s=e[r.return];s&&(s.success&&s.success(r.result,r.before),delete e[r.return])};Worker&&location.protocol.startsWith("http")&&(r=URL.createObjectURL(new Blob([`(${o.toString()})()`])),(t=new Worker(r)).addEventListener("message",i))}
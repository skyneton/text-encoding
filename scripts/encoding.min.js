function Encoding(){"use strict";if(void 0===new.target)throw new Error("Constructor must be called with new.");const e=[];let t,r;this.start=((r,n)=>{if(void 0===r||!(r instanceof File||r instanceof Blob))throw new Error("파일 혹은 Blob를 입력해주세요.");if(void 0===n)throw new Error("옵션값을 입력해주세요.");if(t){const o=e.length;e[o]=n,t.postMessage({file:r,type:n.type||"auto",types:this.types(),return:o})}else o(r,this.types(),n.type).then(e=>{n.success&&n.success(e.result,e.before)})});const n=(e,t,r="UTF-8")=>new Promise(n=>{t.onloadend=(()=>{n(t.result)}),t.readAsText(e,r)}),o=(e,t,r="auto")=>new Promise(async o=>{if("auto"!==r)return void n(e,new FileReader,r).then(e=>{o({result:URL.createObjectURL(new Blob(["\ufeff",e],{type:"text/plain"})),before:r})});const s={};for(let r=0;r<t.length;r++){const o=await n(e,new FileReader,t[r]),l=(o.match(/�/g)||o.match(/đ/g)||o.match(/ў/g)||o.match(/Ą/g)||o.match(/в/g)||o.match(/Ṁ/g)||o.match(/À/g)||o.match(/¾/g)||o.match(/ˇ/g)||[]).length;if(0==l){null!=s.url&&URL.revokeObjectURL(s.url),s.min=l,s.before=t[r],s.url=URL.createObjectURL(new Blob(["\ufeff",o],{type:"text/plain"}));break}(null==s.min||s.min>l)&&(s.min=l,s.before=t[r],null!=s.url&&URL.revokeObjectURL(s.url),s.url=URL.createObjectURL(new Blob(["\ufeff",o],{type:"text/plain"})))}o({result:s.url,before:s.before})});this.types=(()=>["UTF-8","IBM866","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8857-7","ISO-8859-8","ISO-8859-8-I","ISO-8859-10","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","KOI8-R","KOI8-U","macintosh","windows-874","windows-1250","windows-1251","windows-1252","windows-1253","windows-1254","windows-1255","windows-1256","windows-1257","windows-1258","x-mac-cyrillic","GBK","gb18030","Big5","EUC-JP","ISO-2022-JP","Shift_JIS","EUC-KR","UTF-16BE","UTF-16LE"]);const s=()=>{self.addEventListener("message",e=>{const r=e.data;t(r.file,r.types,r.type).then(e=>{self.postMessage({result:e.result,before:e.before,return:r.return})})});const e=(e,t,r="UTF-8")=>new Promise(n=>{t.onloadend=(()=>{n(t.result)}),t.readAsText(e,r)}),t=(t,r,n="auto")=>new Promise(async o=>{if("auto"!==n)return void e(t,new FileReader,n).then(e=>{o({result:URL.createObjectURL(new Blob(["\ufeff",e],{type:"text/plain"})),before:n})});const s={};for(let n=0;n<r.length;n++){const o=await e(t,new FileReader,r[n]),l=(o.match(/�/g)||o.match(/đ/g)||o.match(/ў/g)||o.match(/Ą/g)||o.match(/в/g)||o.match(/Ṁ/g)||o.match(/À/g)||o.match(/¾/g)||o.match(/ˇ/g)||[]).length;if(0==l){null!=s.url&&URL.revokeObjectURL(s.url),s.min=l,s.before=r[n],s.url=URL.createObjectURL(new Blob(["\ufeff",o],{type:"text/plain"}));break}(null==s.min||s.min>l)&&(s.min=l,s.before=r[n],null!=s.url&&URL.revokeObjectURL(s.url),s.url=URL.createObjectURL(new Blob(["\ufeff",o],{type:"text/plain"})))}o({result:s.url,before:s.before})})},l=t=>{const r=t.data,n=e[r.return];n&&(n.success&&n.success(r.result,r.before),delete e[r.return])};Worker&&location.protocol.startsWith("http")&&(r=URL.createObjectURL(new Blob([`(${s.toString()})()`])),(t=new Worker(r)).addEventListener("message",l))}
function Encoding(){"use strict";const t=[];let e,n,c;const g=(t,e,n="auto")=>{const c=(t,e,n="UTF-8")=>new Promise(c=>{e.onloadend=(()=>{c(e.result)}),e.readAsText(t,n)}),g=t=>{let e=t.match(/�/g)?t.match(/�/g).length:0;return e+=t.match(/ẅ/g)?t.match(/ẅ/g).length:0,e+=t.match(/¶/g)?t.match(/¶/g).length:0,e+=t.match(/Ā/g)?t.match(/Ā/g).length:0,e+=t.match(/ŋ/g)?t.match(/ŋ/g).length:0,e+=t.match(/▒/g)?t.match(/▒/g).length:0,e+=t.match(/ˇ/g)?t.match(/ˇ/g).length:0,e+=t.match(/¨/g)?t.match(/¨/g).length:0,e+=t.match(/´/g)?t.match(/´/g).length:0,e+=t.match(//g)?t.match(//g).length:0,e+=t.match(//g)?t.match(//g).length:0,e+=t.match(//g)?t.match(//g).length:0,e+=t.match(//g)?t.match(//g).length:0,e+=t.match(//g)?t.match(//g).length:0,e+=t.match(//g)?t.match(//g).length:0,e+=t.match(//g)?t.match(//g).length:0,e+=t.match(//g)?t.match(//g).length:0,e+=t.match(/਍/g)?t.match(/਍/g).length:0,e+=t.match(/ꫫ/g)?t.match(/ꫫ/g).length:0,e+=t.match(//g)?t.match(//g).length:0,e+=t.match(//g)?t.match(//g).length:0,e+=t.match(//g)?t.match(//g).length:0,e+=t.match(//g)?t.match(//g).length:0,e+=t.match(//g)?t.match(//g).length:0,e+=t.match(//g)?t.match(//g).length:0};return new Promise(async a=>{if("auto"!==n)return void c(t,new FileReader,n).then(t=>{a({result:t,before:n})});const h={};for(let n=0;n<e.length;n++){const a=await c(t,new FileReader,e[n]),r=g(a);if(0==r){null!=h.url&&URL.revokeObjectURL(h.url),h.min=r,h.before=e[n],h.url=a;break}(null==h.min||h.min>r)&&(h.min=r,h.before=e[n],null!=h.url&&URL.revokeObjectURL(h.url),h.url=a)}a({result:h.url,before:h.before})})},a=()=>{self.addEventListener("message",t=>{const e=t.data;"import"!==e.type?g(e.file,e.types,e["encoding-type"]).then(t=>{self.postMessage({result:t.result,before:t.before,return:e.return})}):importScripts(e.url)})};var h=e=>{const n=e.data,c=t[n.return];c&&(c.success&&c.success(n.result,n.before),delete t[n.return])};return Worker&&location.protocol.startsWith("http")&&(n=URL.createObjectURL(new Blob([`(${a.toString()})()`],{type:"text/javascript"})),(e=new Worker(n)).addEventListener("message",h),c=URL.createObjectURL(new Blob([`const ${g.name} = ${g.toString()}`],{type:"text/javascript"})),e.postMessage({type:"import",url:c})),new class{start(n,c){if(void 0===n||!(n instanceof File||n instanceof Blob))throw new Error("파일 혹은 Blob를 입력해주세요.");if(void 0===c)throw new Error("옵션값을 입력해주세요.");if(e){const g=t.length;t[g]=c,e.postMessage({file:n,type:"encoding","encoding-type":c.type||"auto",types:this.types(),return:g})}else g(n,this.types(),c.type).then(t=>{c.success&&c.success(t.result,t.before)})}close(){e&&(URL.revokeObjectURL(n),e.terminate()),c&&URL.revokeObjectURL(c)}types(){return["UTF-8","IBM866","Big5","Shift_JIS","EUC-KR","EUC-JP","ISO-2022-JP","UTF-16BE","UTF-16LE","GBK","gb18030","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8857-7","ISO-8859-8","ISO-8859-8-I","ISO-8859-10","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","KOI8-R","KOI8-U","macintosh","windows-874","windows-1250","windows-1251","windows-1252","windows-1253","windows-1254","windows-1255","windows-1256","windows-1257","windows-1258","x-mac-cyrillic"]}}}